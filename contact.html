<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Contact | Expat Life Coaching | Gala Antonini</title>

  <!-- Canonical & Robots -->
  <link rel="canonical" href="https://yourdomain.com/contact.html" />
  <meta name="robots" content="index,follow,max-image-preview:large" />

  <!-- SEO Core -->
  <meta name="description" content="Contact Gala Antonini for expat and cross-cultural life coaching. Submit a secure inquiry—London & worldwide." />
  <meta name="author" content="Gala Antonini" />

  <!-- Social -->
  <meta property="og:title" content="Contact | Expat Life Coaching | Gala Antonini" />
  <meta property="og:description" content="Get in touch for a discovery call or coaching inquiry—London & worldwide." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://yourdomain.com/contact.html" />
  <meta property="og:image" content="https://yourdomain.com/images/contact-preview.jpg" />
  <meta property="og:image:alt" content="Contact form for expat life coaching with Gala Antonini" />
  <meta name="twitter:card" content="summary_large_image" />

  <!-- Perf for FlagCDN -->
  <link rel="preconnect" href="https://flagcdn.com" crossorigin />

  <style>
    /* ===== Color System (consistent everywhere) ===== */
    :root{
      --bg: #f6f2ef;        /* page background */
      --surface: #ffffff;   /* cards, inputs */
      --text: #1f1f1f;      /* primary text */
      --muted: #666666;     /* secondary text */
      --border: rgba(0,0,0,.14);
      --accent: #222222;    /* buttons/links/underline */
      --error: #c62828;
      --shadow: 0 1px 0 rgba(0,0,0,.05);
      --radius: 12px;
    }

    *{ box-sizing: border-box; }
    html, body{ height:100%; }
    body{
      margin:0;
      font-family: Georgia, serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.6;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      text-rendering: optimizeLegibility;
    }

    /* Accessibility: skip link */
    .skip-link{ position:absolute; left:-999px; top:auto; width:1px; height:1px; overflow:hidden; }
    .skip-link:focus{ left:16px; top:16px; width:auto; height:auto; padding:10px 14px; background:#000; color:#fff; z-index:1000; border-radius:6px; }

    /* ===== Nav (solid color, no transparency) ===== */
    nav{
      background: #ffffff;                /* solid on mobile for color stability */
      border-bottom: 1px solid var(--border);
      padding: 14px 16px;
      display:flex; justify-content:space-between; align-items:center;
      position: sticky; top:0; z-index: 20;
    }
    .logo{ font-size:1rem; font-weight:400; letter-spacing:1.2px; color:var(--text); text-transform:uppercase; }
    .menu{ display:flex; gap:14px; flex-wrap:wrap; }
    .menu a{
      text-decoration:none; color:var(--text); font-size:.95rem; position:relative; font-weight:500; padding:6px 2px;
    }
    .menu a::after{
      content:''; position:absolute; width:0%; height:2px; bottom:-4px; left:0; background:var(--accent); transition:.25s ease;
    }
    .menu a:hover::after, .menu a:focus::after{ width:100%; }

    /* ===== Header ===== */
    header{ text-align:center; padding:28px 16px 8px; }
    header h1{ font-weight:400; font-size:1.75rem; margin:0 0 8px; }
    .divider{ width:80px; height:2px; background:#ffffff; margin:0 auto 20px; }

    /* ===== Main Card ===== */
    main{ max-width:860px; margin:auto; padding:12px 16px 48px; font-size:1.05rem; }
    .card{
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 18px;
      box-shadow: var(--shadow);
    }

    /* ===== Form Elements ===== */
    form{ display:grid; gap:16px; margin-top:8px; }
    label{ display:block; font-size:1rem; margin-bottom:6px; color:var(--text); }

    input[type="text"], input[type="email"], input[type="tel"], textarea, input[list]{
      width:100%; padding:14px 16px; border:1px solid var(--border);
      border-radius:10px; background: var(--surface); font-family:inherit; font-size:1rem; color:var(--text);
    }
    textarea{ min-height:140px; resize:vertical; }

    .row{ display:grid; grid-template-columns:1fr 1fr; gap:16px; }
    .row-cc{ display:grid; grid-template-columns:1fr 2fr; gap:16px; }

    .consent{ display:flex; align-items:flex-start; gap:10px; font-size:1rem; color:var(--text); }
    .consent input{ margin-top:4px; }

    .btn{
      appearance:none; border:none; border-radius:12px; padding:16px 18px;
      background: var(--accent); color:#fff; font-weight:700; cursor:pointer; width:100%;
      font-size:1.05rem;
    }
    .btn:disabled{ opacity:.6; cursor:not-allowed; }

    .muted{ color:var(--muted); }
    .success, .error{ display:none; margin-top:10px; padding:12px 14px; border-radius:10px; }
    .success{ background:#e7f7ee; color:#0a6b3a; }
    .error{ background:#fdecec; color:#8a1c1c; }

    .hp{ position:absolute !important; left:-50000px !important; top:auto !important; width:1px !important; height:1px !important; overflow:hidden !important; }
    .field-error{ border-color:var(--error) !important; box-shadow:0 0 0 2px rgba(198,40,40,.08); }
    .error-text{ color:var(--error); font-size:.95rem; margin-top:6px; display:none; }
    .show{ display:block !important; }

    /* Flag input group */
    .flag-input{ display:flex; align-items:center; gap:10px; }
    .flag-img{
      width:28px; height:21px; border-radius:3px; object-fit:cover;
      background:#eee; box-shadow:0 0 0 1px rgba(0,0,0,.08);
      flex: 0 0 28px;
    }

    /* ===== Mobile-first polish ===== */
    @media (max-width: 900px){
      .row, .row-cc{ grid-template-columns:1fr; }
    }
    @media (max-width: 480px){
      .logo{ font-size:.95rem; }
      header{ padding-top:20px; }
      header h1{ font-size:1.5rem; }
      .menu{ gap:10px; }
      input, textarea{ font-size:1.05rem; }
      .card{ padding:16px; }
    }
  </style>
</head>
<body>
  <a class="skip-link" href="#main">Skip to content</a>

  <nav aria-label="Main navigation">
    <div class="logo">Gala Antonini</div>
    <div class="menu">
      <a href="index.html">HOME</a>
      <a href="you.html">YOU</a>
      <a href="me.html">ME</a>
      <a href="we.html">WE</a>
      <a href="fees.html">FEES</a>
      <a href="location.html">LOCATION</a>
      <a href="contact.html" aria-current="page">CONTACT</a>
    </div>
  </nav>

  <header>
    <h1>CONTACT</h1>
    <div class="divider"></div>
  </header>

  <main id="main">
    <div class="card" role="region" aria-labelledby="contact-heading">
      <h2 id="contact-heading" style="font-weight:400;margin:0 0 8px;">Get in touch</h2>
      <p class="muted" style="margin:0 0 8px;">Use the form below to enquire about a discovery call, packages, or availability. I reply personally on weekdays.</p>

      <!-- Web3Forms: single enhanced form -->
      <form id="contactForm" action="https://api.web3forms.com/submit" method="POST" novalidate>
        <!-- REQUIRED: Web3Forms Access Key -->
        <input type="hidden" name="access_key" value="a330c1ea-8e5b-4f54-9216-442f513efeb3" />

        <!-- Optional: nicer email subject + from label in notification -->
        <input type="hidden" name="subject" value="New coaching enquiry from website" />
        <input type="hidden" name="from_name" value="Website Contact Form" />

        <!-- Honeypots -->
        <input type="checkbox" name="botcheck" class="hp" tabindex="-1" autocomplete="off" aria-hidden="true" />
        <input type="text" name="company" class="hp" tabindex="-1" autocomplete="off" aria-hidden="true" />

        <!-- Row 1: name + email -->
        <div class="row">
          <div>
            <label for="name">Full name *</label>
            <input id="name" name="name" type="text" required autocomplete="name" />
          </div>
          <div>
            <label for="email">Email *</label>
            <input id="email" name="email" type="email" required autocomplete="email" inputmode="email" />
          </div>
        </div>

        <!-- Row 2: country code (searchable + flags) + phone (required) -->
        <div class="row-cc">
          <div>
            <label for="country_code">Country code *</label>
            <div class="flag-input">
              <img
                id="flagImg"
                class="flag-img"
                alt="Country flag"
                width="28" height="21"
                src="https://flagcdn.com/24x18/gb.svg"
                srcset="https://flagcdn.com/24x18/gb.svg 1x, https://flagcdn.com/48x36/gb.svg 2x"
                loading="lazy"
                referrerpolicy="no-referrer"
              />
              <input
                id="country_code"
                name="country_code"
                list="country-codes"
                required
                placeholder="Type country or code (e.g., +44, UK)"
                autocomplete="off"
                inputmode="search"
              />
            </div>
            <datalist id="country-codes"></datalist>
          </div>
          <div>
            <label for="phone">Contact number *</label>
            <input
              id="phone"
              name="phone"
              type="tel"
              inputmode="tel"
              required
              placeholder="Enter your number"
              pattern="^[0-9\\s()+-]{6,20}$"
              autocomplete="tel"
            />
          </div>
        </div>

        <div>
          <label for="topic">Topic</label>
          <input id="topic" name="topic" type="text" placeholder="Discovery call, packages, availability…" />
        </div>

        <div>
          <label for="message">Message *</label>
          <textarea id="message" name="message" required></textarea>
        </div>

        <!-- GDPR consent -->
        <label class="consent" id="consentWrap">
          <input type="checkbox" id="consent" name="consent" required />
          <span>I agree to be contacted regarding my enquiry and consent to the processing of my data for this purpose. View the <a href="privacy.html">Privacy Notice</a>.</span>
        </label>
        <div id="consentError" class="error-text">Please tick the privacy consent box to proceed.</div>

        <!-- Optional: redirect to a Thank You page after success -->
        <!-- <input type="hidden" name="redirect" value="https://yourdomain.com/thanks.html" /> -->

        <button type="submit" class="btn" id="submitBtn">Send message</button>

        <div class="success" id="successMsg" role="status" aria-live="polite">
          Thank you—your message has been sent. I’ll get back to you soon.
        </div>
        <div class="error" id="errorMsg" role="alert"></div>
      </form>
    </div>
  </main>

  <!-- JSON-LD: ContactPage + ContactPoint -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@graph": [
      {
        "@type": "ContactPage",
        "name": "Contact | Gala Antonini",
        "url": "https://yourdomain.com/contact.html",
        "inLanguage": "en-GB",
        "description": "Contact Gala Antonini for expat and cross-cultural life coaching."
      },
      {
        "@type": "Organization",
        "name": "Thrive Abroad Coaching",
        "url": "https://yourdomain.com/",
        "contactPoint": [{
          "@type": "ContactPoint",
          "contactType": "customer support",
          "url": "https://yourdomain.com/contact.html",
          "areaServed": "Worldwide",
          "availableLanguage": ["en","it","ru","lv"]
        }]
      }
    ]
  }
  </script>

  <!-- JS: build world list, auto-format, colorful SVG flags, AJAX submit -->
  <script>
    (function(){
      const form = document.getElementById('contactForm');
      const successMsg = document.getElementById('successMsg');
      const errorMsg = document.getElementById('errorMsg');
      const submitBtn = document.getElementById('submitBtn');
      const consent = document.getElementById('consent');
      const consentError = document.getElementById('consentError');
      const consentWrap = document.getElementById('consentWrap');
      const phone = document.getElementById('phone');
      const country = document.getElementById('country_code');
      const flagImg = document.getElementById('flagImg');
      const datalist = document.getElementById('country-codes');

      /* ===== World list (broad) ===== */
      const countries = [
        {name:"United Kingdom", iso:"gb", dial:"+44"},
        {name:"United States", iso:"us", dial:"+1"},
        {name:"Canada", iso:"ca", dial:"+1"},
        {name:"Italy", iso:"it", dial:"+39"},
        {name:"Spain", iso:"es", dial:"+34"},
        {name:"Switzerland", iso:"ch", dial:"+41"},
        {name:"France", iso:"fr", dial:"+33"},
        {name:"Germany", iso:"de", dial:"+49"},
        {name:"Ireland", iso:"ie", dial:"+353"},
        {name:"Portugal", iso:"pt", dial:"+351"},
        {name:"Netherlands", iso:"nl", dial:"+31"},
        {name:"Belgium", iso:"be", dial:"+32"},
        {name:"Denmark", iso:"dk", dial:"+45"},
        {name:"Sweden", iso:"se", dial:"+46"},
        {name:"Norway", iso:"no", dial:"+47"},
        {name:"Finland", iso:"fi", dial:"+358"},
        {name:"Greece", iso:"gr", dial:"+30"},
        {name:"Czechia", iso:"cz", dial:"+420"},
        {name:"Slovakia", iso:"sk", dial:"+421"},
        {name:"Romania", iso:"ro", dial:"+40"},
        {name:"Austria", iso:"at", dial:"+43"},
        {name:"Poland", iso:"pl", dial:"+48"},
        {name:"Hungary", iso:"hu", dial:"+36"},
        {name:"Ukraine", iso:"ua", dial:"+380"},
        {name:"Russia", iso:"ru", dial:"+7"},
        {name:"Latvia", iso:"lv", dial:"+371"},
        {name:"Lithuania", iso:"lt", dial:"+370"},
        {name:"Estonia", iso:"ee", dial:"+372"},
        {name:"Azerbaijan", iso:"az", dial:"+994"},
        {name:"Georgia", iso:"ge", dial:"+995"},
        {name:"Armenia", iso:"am", dial:"+374"},
        {name:"Belarus", iso:"by", dial:"+375"},
        {name:"Moldova", iso:"md", dial:"+373"},
        {name:"Iceland", iso:"is", dial:"+354"},
        {name:"Malta", iso:"mt", dial:"+356"},
        {name:"Cyprus", iso:"cy", dial:"+357"},
        {name:"Luxembourg", iso:"lu", dial:"+352"},
        {name:"Andorra", iso:"ad", dial:"+376"},
        {name:"Monaco", iso:"mc", dial:"+377"},
        {name:"San Marino", iso:"sm", dial:"+378"},
        {name:"Albania", iso:"al", dial:"+355"},
        {name:"Bosnia & Herzegovina", iso:"ba", dial:"+387"},
        {name:"Montenegro", iso:"me", dial:"+382"},
        {name:"Serbia", iso:"rs", dial:"+381"},
        {name:"North Macedonia", iso:"mk", dial:"+389"},
        {name:"Slovenia", iso:"si", dial:"+386"},
        {name:"Croatia", iso:"hr", dial:"+385"},
        {name:"Bulgaria", iso:"bg", dial:"+359"},

        {name:"United Arab Emirates", iso:"ae", dial:"+971"},
        {name:"Qatar", iso:"qa", dial:"+974"},
        {name:"Bahrain", iso:"bh", dial:"+973"},
        {name:"Kuwait", iso:"kw", dial:"+965"},
        {name:"Saudi Arabia", iso:"sa", dial:"+966"},
        {name:"Oman", iso:"om", dial:"+968"},
        {name:"Jordan", iso:"jo", dial:"+962"},
        {name:"Lebanon", iso:"lb", dial:"+961"},
        {name:"Israel", iso:"il", dial:"+972"},
        {name:"Palestine", iso:"ps", dial:"+970"},
        {name:"Turkey", iso:"tr", dial:"+90"},
        {name:"Iran", iso:"ir", dial:"+98"},

        {name:"India", iso:"in", dial:"+91"},
        {name:"Pakistan", iso:"pk", dial:"+92"},
        {name:"Sri Lanka", iso:"lk", dial:"+94"},
        {name:"Bangladesh", iso:"bd", dial:"+880"},
        {name:"Nepal", iso:"np", dial:"+977"},
        {name:"Bhutan", iso:"bt", dial:"+975"},
        {name:"Maldives", iso:"mv", dial:"+960"},

        {name:"Singapore", iso:"sg", dial:"+65"},
        {name:"Malaysia", iso:"my", dial:"+60"},
        {name:"Indonesia", iso:"id", dial:"+62"},
        {name:"Philippines", iso:"ph", dial:"+63"},
        {name:"Thailand", iso:"th", dial:"+66"},
        {name:"Vietnam", iso:"vn", dial:"+84"},
        {name:"Cambodia", iso:"kh", dial:"+855"},
        {name:"Laos", iso:"la", dial:"+856"},
        {name:"Myanmar", iso:"mm", dial:"+95"},
        {name:"Brunei", iso:"bn", dial:"+673"},

        {name:"China", iso:"cn", dial:"+86"},
        {name:"Hong Kong", iso:"hk", dial:"+852"},
        {name:"Macau", iso:"mo", dial:"+853"},
        {name:"Taiwan", iso:"tw", dial:"+886"},
        {name:"Japan", iso:"jp", dial:"+81"},
        {name:"South Korea", iso:"kr", dial:"+82"},
        {name:"Mongolia", iso:"mn", dial:"+976"},

        {name:"Australia", iso:"au", dial:"+61"},
        {name:"New Zealand", iso:"nz", dial:"+64"},
        {name:"Fiji", iso:"fj", dial:"+679"},
        {name:"Papua New Guinea", iso:"pg", dial:"+675"},
        {name:"Samoa", iso:"ws", dial:"+685"},
        {name:"Tonga", iso:"to", dial:"+676"},
        {name:"Vanuatu", iso:"vu", dial:"+678"},
        {name:"Kiribati", iso:"ki", dial:"+686"},
        {name:"Tuvalu", iso:"tv", dial:"+688"},
        {name:"French Polynesia", iso:"pf", dial:"+689"},
        {name:"New Caledonia", iso:"nc", dial:"+687"},
        {name:"Micronesia", iso:"fm", dial:"+691"},
        {name:"Marshall Islands", iso:"mh", dial:"+692"},
        {name:"Cook Islands", iso:"ck", dial:"+682"},

        {name:"Mexico", iso:"mx", dial:"+52"},
        {name:"Guatemala", iso:"gt", dial:"+502"},
        {name:"Belize", iso:"bz", dial:"+501"},
        {name:"El Salvador", iso:"sv", dial:"+503"},
        {name:"Honduras", iso:"hn", dial:"+504"},
        {name:"Nicaragua", iso:"ni", dial:"+505"},
        {name:"Costa Rica", iso:"cr", dial:"+506"},
        {name:"Panama", iso:"pa", dial:"+507"},
        {name:"Jamaica", iso:"jm", dial:"+1-876"},
        {name:"Dominican Republic", iso:"do", dial:"+1-809"},
        {name:"Puerto Rico", iso:"pr", dial:"+1-787"},
        {name:"Cuba", iso:"cu", dial:"+53"},
        {name:"Haiti", iso:"ht", dial:"+509"},
        {name:"Trinidad & Tobago", iso:"tt", dial:"+1-868"},
        {name:"Barbados", iso:"bb", dial:"+1-246"},
        {name:"Bahamas", iso:"bs", dial:"+1-242"},

        {name:"Brazil", iso:"br", dial:"+55"},
        {name:"Argentina", iso:"ar", dial:"+54"},
        {name:"Chile", iso:"cl", dial:"+56"},
        {name:"Colombia", iso:"co", dial:"+57"},
        {name:"Peru", iso:"pe", dial:"+51"},
        {name:"Uruguay", iso:"uy", dial:"+598"},
        {name:"Paraguay", iso:"py", dial:"+595"},
        {name:"Bolivia", iso:"bo", dial:"+591"},
        {name:"Ecuador", iso:"ec", dial:"+593"},
        {name:"Venezuela", iso:"ve", dial:"+58"},
        {name:"Guyana", iso:"gy", dial:"+592"},
        {name:"Suriname", iso:"sr", dial:"+597"},

        {name:"Egypt", iso:"eg", dial:"+20"},
        {name:"Morocco", iso:"ma", dial:"+212"},
        {name:"Algeria", iso:"dz", dial:"+213"},
        {name:"Tunisia", iso:"tn", dial:"+216"},
        {name:"Libya", iso:"ly", dial:"+218"},
        {name:"Mauritania", iso:"mr", dial:"+222"},
        {name:"Senegal", iso:"sn", dial:"+221"},
        {name:"Ghana", iso:"gh", dial:"+233"},
        {name:"Nigeria", iso:"ng", dial:"+234"},
        {name:"Ivory Coast", iso:"ci", dial:"+225"},
        {name:"Cameroon", iso:"cm", dial:"+237"},
        {name:"Ethiopia", iso:"et", dial:"+251"},
        {name:"Kenya", iso:"ke", dial:"+254"},
        {name:"Tanzania", iso:"tz", dial:"+255"},
        {name:"Uganda", iso:"ug", dial:"+256"},
        {name:"Rwanda", iso:"rw", dial:"+250"},
        {name:"DR Congo", iso:"cd", dial:"+243"},
        {name:"Zambia", iso:"zm", dial:"+260"},
        {name:"Zimbabwe", iso:"zw", dial:"+263"},
        {name:"Namibia", iso:"na", dial:"+264"},
        {name:"Botswana", iso:"bw", dial:"+267"},
        {name:"Mozambique", iso:"mz", dial:"+258"},
        {name:"Madagascar", iso:"mg", dial:"+261"},
        {name:"South Africa", iso:"za", dial:"+27"},

        {name:"U.S. Virgin Islands", iso:"vi", dial:"+1-340"},
        {name:"Cayman Islands", iso:"ky", dial:"+1-345"},
        {name:"Bermuda", iso:"bm", dial:"+1-441"},
        {name:"Turks & Caicos", iso:"tc", dial:"+1-649"},
        {name:"Guam", iso:"gu", dial:"+1-671"},
        {name:"American Samoa", iso:"as", dial:"+1-684"},
        {name:"Greenland", iso:"gl", dial:"+299"},
        {name:"Faroe Islands", iso:"fo", dial:"+298"},
        {name:"Isle of Man", iso:"im", dial:"+44"},
        {name:"Jersey", iso:"je", dial:"+44"},
        {name:"Guernsey", iso:"gg", dial:"+44"}
      ];

      // Build datalist and dial -> iso
      const dialToISO = {};
      const frag = document.createDocumentFragment();
      countries.forEach(c => {
        const opt = document.createElement('option');
        opt.value = `${c.dial} — ${c.name}`;
        frag.appendChild(opt);
        if (!dialToISO[c.dial]) dialToISO[c.dial] = c.iso; // first wins
      });
      datalist.appendChild(frag);

      // Default flag = GB
      function setFlagByDial(dial){
        const iso = dialToISO[dial];
        const src1x = iso ? `https://flagcdn.com/24x18/${iso}.svg` : `https://flagcdn.com/24x18/gb.svg`;
        const src2x = iso ? `https://flagcdn.com/48x36/${iso}.svg` : `https://flagcdn.com/48x36/gb.svg`;
        flagImg.src = src1x;
        flagImg.srcset = `${src1x} 1x, ${src2x} 2x`;
        flagImg.alt = iso ? `Flag of ${dial}` : "Flag";
      }
      setFlagByDial("+44");

      function normalizeCountryInput(){
        let v = country.value.trim();

        // Prefer +digits (handles things like "+1-787" by taking +1)
        const plusMatch = v.match(/\+\d{1,4}/);
        if (plusMatch) {
          country.value = plusMatch[0];
          setFlagByDial(plusMatch[0]);
          return;
        }

        // digits only -> +digits
        const digits = v.replace(/\D/g,'');
        if (digits) {
          const dial = `+${digits}`;
          country.value = dial;
          setFlagByDial(dial);
          return;
        }

        // full country name exact match
        const alias = v.toLowerCase();
        const found = countries.find(c => c.name.toLowerCase() === alias);
        if (found) {
          country.value = found.dial.replace(/[^+\d].*$/,'');
          setFlagByDial(country.value);
          return;
        }

        // otherwise keep GB
        setFlagByDial("+44");
      }

      country.addEventListener('change', normalizeCountryInput);
      country.addEventListener('input', normalizeCountryInput);

      function clearFieldErrors() {
        [phone, country, consentWrap].forEach(el => el.classList.remove('field-error'));
        consentError.classList.remove('show');
      }

      // Submit handler (AJAX to Web3Forms)
      form.addEventListener('submit', async function (e) {
        e.preventDefault();
        successMsg.style.display = 'none';
        errorMsg.style.display = 'none';
        clearFieldErrors();

        normalizeCountryInput(); // ensure +NN clean

        // Required checks
        if (!form.name.value.trim() || !form.email.value.trim() || !form.message.value.trim()) {
          errorMsg.textContent = 'Please complete all required fields.';
          errorMsg.style.display = 'block';
          return;
        }
        if (!country.value || !/^\+\d{1,4}$/.test(country.value)) {
          errorMsg.textContent = 'Please select your country code.';
          errorMsg.style.display = 'block';
          country.classList.add('field-error');
          country.focus();
          return;
        }
        if (!phone.value.trim() || !phone.checkValidity()) {
          errorMsg.textContent = 'Please enter a valid contact number.';
          errorMsg.style.display = 'block';
          phone.classList.add('field-error');
          phone.focus();
          return;
        }
        if (!consent.checked) {
          errorMsg.textContent = 'Please tick the privacy consent box to proceed.';
          errorMsg.style.display = 'block';
          consentWrap.classList.add('field-error');
          consentError.classList.add('show');
          consent.focus();
          return;
        }

        // Honeypot
        if ((form.botcheck && form.botcheck.checked) || (form.company && form.company.value)) {
          form.reset();
          setFlagByDial("+44");
          successMsg.style.display = 'block';
          return;
        }

        submitBtn.disabled = true;

        try {
          const resp = await fetch(form.action, {
            method: 'POST',
            headers: { 'Accept': 'application/json' },
            body: new FormData(form)
          });
          const data = await resp.json().catch(() => ({}));

          if (resp.ok && data.success !== false) {
            form.reset();
            setFlagByDial("+44");
            successMsg.style.display = 'block';
          } else {
            let msg = 'Submission error.';
            if (data && data.message) msg += ' ' + data.message;
            msg += ' (Status ' + resp.status + ')';
            errorMsg.textContent = msg;
            errorMsg.style.display = 'block';
          }
        } catch (err) {
          errorMsg.textContent = 'Network error. Please try again in a moment.';
          errorMsg.style.display = 'block';
        } finally {
          submitBtn.disabled = false;
        }
      });
    })();
  </script>

  <noscript>Some features may not work correctly because JavaScript is disabled.</noscript>
</body>
</html>





